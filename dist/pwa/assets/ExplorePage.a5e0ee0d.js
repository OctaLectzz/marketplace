import{Q as w}from"./QAjaxBar.355128ec.js";import{r as e,j as p,m as P,x as C,q as o,p as f,aD as Q,z as v,aP as B,aQ as E,O as V}from"./index.30dd2348.js";import{Q as b}from"./QPage.b9e58bdc.js";import{u as L}from"./promotion-store.a725c3c9.js";import{u as h}from"./product-store.67bd715d.js";import{_ as j}from"./PromotionsView.8eed6c27.js";import{_ as D}from"./ProductsView.7842c4bf.js";import"./format.b9446fb2.js";import"./axios.66ae61ea.js";import"./QSkeleton.01e1d850.js";import"./QImg.3cf10b4b.js";import"./QCarousel.0d312bba.js";import"./touch.9135741d.js";import"./selection.64adb4fb.js";import"./use-fullscreen.13a86615.js";const M={class:"search-container q-my-xl"},q=v("div",{class:"text-h5 text-bold"},"Produk Terkait",-1),X={__name:"ExplorePage",setup(z){const r=e(!0),i=e([]),_=async()=>{try{const a=await L().all();i.value=a.data.data}catch(a){console.error("Error fetching data:",a)}r.value=!1};p(()=>{_()});const n=e([]),g=async()=>{try{const a=await h().all();n.value=a.data.data}catch(a){console.error("Error fetching data:",a)}r.value=!1};p(()=>{g()});const y=e([]),t=e(""),u=e(null),m=e(!1),d=async()=>{m.value=!0;try{y.value=[];const a=u.value;a.start();const c=(await h().all()).data.data.filter(s=>{const x=s.name&&s.name.toLowerCase().includes(t.value.toLowerCase()),k=s.description&&s.description.toLowerCase().includes(t.value.toLowerCase());return x||k});n.value=[...c],a.stop()}catch(a){console.error("Error fetching data:",a)}m.value=!1};return(a,l)=>(P(),C(Q,null,[o(w,{ref_key:"searchBar",ref:u,position:"top",color:"primary",size:"8px","skip-hijack":""},null,512),o(b,null,{default:f(()=>[o(j,{promotions:i.value,loading:r.value},null,8,["promotions","loading"]),v("div",M,[o(B,{type:"text",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),label:"Cari Produk...",class:"search-all",onKeyup:E(d,["enter"]),dense:"",borderless:""},{append:f(()=>[o(V,{name:"search",class:"search-icon",onClick:d})]),_:1},8,["modelValue"])]),q,o(D,{products:n.value,loading:r.value},null,8,["products","loading"])]),_:1})],64))}};export{X as default};
