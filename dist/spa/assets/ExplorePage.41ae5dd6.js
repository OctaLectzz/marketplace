import{c as A,r as f,d as _,j as I,o as N,f as H,g as U,k as K,m as k,x as C,q as n,n as P,p as v,aE as F,z as u,aD as S,F as O,aP as X,aQ as G,v as J,D as T}from"./index.3411a222.js";import{b as W}from"./format.b9446fb2.js";import{Q as V}from"./QSkeleton.72d58935.js";import{Q as L}from"./QPage.47df145d.js";import{Q as M}from"./QImg.602e0d0f.js";import{Q as E,a as Y}from"./QCarousel.f9e590ec.js";import{url as Z}from"./axios.7b547941.js";import"./category-store.e69f3a33.js";import{u as z}from"./product-store.b7a4d6b4.js";import"./touch.9135741d.js";import"./selection.3ca1e304.js";import"./use-fullscreen.7b6777f7.js";const $=XMLHttpRequest,R=$.prototype.open,ee=["top","right","bottom","left"];let B=[],j=0;function te({p:e,pos:o,active:d,horiz:r,reverse:l,dir:h}){let t=1,a=1;return r===!0?(l===!0&&(t=-1),o==="bottom"&&(a=-1),{transform:`translate3d(${t*(e-100)}%,${d?0:a*-200}%,0)`}):(l===!0&&(a=-1),o==="right"&&(t=-1),{transform:`translate3d(${d?0:h*t*-200}%,${a*(e-100)}%,0)`})}function ae(e,o){return typeof o!="number"&&(e<25?o=Math.random()*3+3:e<65?o=Math.random()*3:e<85?o=Math.random()*2:e<99?o=.6:o=0),W(e+o,0,100)}function se(e){j++,B.push(e),!(j>1)&&($.prototype.open=function(o,d){const r=[],l=()=>{B.forEach(t=>{(t.hijackFilter.value===null||t.hijackFilter.value(d)===!0)&&(t.start(),r.push(t.stop))})},h=()=>{r.forEach(t=>{t()})};this.addEventListener("loadstart",l,{once:!0}),this.addEventListener("loadend",h,{once:!0}),R.apply(this,arguments)})}function oe(e){B=B.filter(o=>o.start!==e),j=Math.max(0,j-1),j===0&&($.prototype.open=R)}var re=A({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>ee.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:o}){const{proxy:d}=U(),r=f(0),l=f(!1),h=f(!0);let t=0,a=null,p;const w=_(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(h.value===!0?"":" no-transition")),x=_(()=>e.position==="top"||e.position==="bottom"),q=_(()=>x.value===!0?"height":"width"),i=_(()=>{const c=l.value,y=te({p:r.value,pos:e.position,active:c,horiz:x.value,reverse:d.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:d.$q.lang.rtl===!0?-1:1});return y[q.value]=e.size,y.opacity=c?1:0,y}),m=_(()=>l.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r.value}:{"aria-hidden":"true"});function g(c=300){const y=p;return p=Math.max(0,c)||0,t++,t>1?(y===0&&c>0?b():a!==null&&y>0&&c<=0&&(clearTimeout(a),a=null),t):(a!==null&&clearTimeout(a),o("start"),r.value=0,a=setTimeout(()=>{a=null,h.value=!0,c>0&&b()},l._value===!0?500:1),l._value!==!0&&(l.value=!0,h.value=!1),t)}function s(c){return t>0&&(r.value=ae(r.value,c)),t}function Q(){if(t=Math.max(0,t-1),t>0)return t;a!==null&&(clearTimeout(a),a=null),o("stop");const c=()=>{h.value=!0,r.value=100,a=setTimeout(()=>{a=null,l.value=!1},1e3)};return r.value===0?a=setTimeout(c,1):c(),t}function b(){r.value<100&&(a=setTimeout(()=>{a=null,s(),b()},p))}let D;return I(()=>{e.skipHijack!==!0&&(D=!0,se({start:g,stop:Q,hijackFilter:_(()=>e.hijackFilter||null)}))}),N(()=>{a!==null&&clearTimeout(a),D===!0&&oe(g)}),Object.assign(d,{start:g,stop:Q,increment:s}),()=>H("div",{class:w.value,style:i.value,...m.value})}});const le={class:"q-my-md"},ne={class:"q-my-md"},ie=u("div",{class:"text-h5"},"Produk Terkait",-1),ue={class:"row justify-center"},ce={class:"q-my-md"},de={class:"search-container q-my-xl"},me={class:"q-my-md"},fe=u("div",{class:"text-h5"},"Produk terbaru",-1),he={class:"row justify-center"},pe={class:"component-products"},ve={class:"products-title q-mt-sm q-ml-sm"},ge={class:"products-price text-body2 q-ml-sm",style:{color:"#ff7158"}},Fe={__name:"ExplorePage",setup(e){const o=f(!0),d=f(1),r=f(!0),l=f([]),h=async()=>{try{const i=await z().all();l.value=i.data.data}catch(i){console.error("Error fetching data:",i)}o.value=!1};I(()=>{h()});const t=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i),a=f([]),p=f(""),w=f(null),x=f(!1),q=async()=>{x.value=!0;try{a.value=[];const i=w.value;i.start();const g=(await z().all()).data.data.filter(s=>{const Q=s.name&&s.name.toLowerCase().includes(p.value.toLowerCase()),b=s.description&&s.description.toLowerCase().includes(p.value.toLowerCase());return Q||b});l.value=[...g],i.stop()}catch(i){console.error("Error fetching data:",i)}x.value=!1};return(i,m)=>{const g=K("router-link");return k(),C(F,null,[n(re,{ref_key:"searchBar",ref:w,position:"top",color:"primary",size:"8px","skip-hijack":""},null,512),o.value?(k(),P(L,{key:0},{default:v(()=>[u("div",le,[n(V,{width:"100%",height:"400px"})]),u("div",ne,[ie,u("div",ue,[(k(),C(F,null,S(6,s=>u("div",{class:"col-sm-4 col-md-3 q-ma-md",key:s},[n(V,{width:"100%",height:"150px",style:{"border-radius":"20px"}})])),64))])])]),_:1})):(k(),P(L,{key:1},{default:v(()=>[u("div",ce,[n(Y,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=s=>d.value=s),autoplay:r.value,"transition-prev":"slide-right","transition-next":"slide-left",class:"carousel-banner",onMouseenter:m[1]||(m[1]=s=>r.value=!1),onMouseleave:m[2]||(m[2]=s=>r.value=!0),animated:"",navigation:"",infinite:"",arrows:""},{default:v(()=>[n(E,{name:1},{default:v(()=>[n(M,{src:"/img/banner.jpg",class:"carousel-img",style:{width:"100%",height:"auto"}})]),_:1}),n(E,{name:2},{default:v(()=>[n(M,{src:"/img/banner.jpg",class:"carousel-img",style:{width:"100%",height:"auto"}})]),_:1}),n(E,{name:3},{default:v(()=>[n(M,{src:"/img/banner.jpg",class:"carousel-img",style:{width:"100%",height:"auto"}})]),_:1})]),_:1},8,["modelValue","autoplay"])]),u("div",de,[n(G,{type:"text",modelValue:p.value,"onUpdate:modelValue":m[3]||(m[3]=s=>p.value=s),label:"Cari Produk...",class:"search-all",onKeyup:X(q,["enter"]),dense:"",borderless:""},{append:v(()=>[n(O,{name:"search",class:"search-icon",onClick:q})]),_:1},8,["modelValue"])]),u("div",me,[fe,u("div",he,[(k(!0),C(F,null,S(l.value,s=>(k(),C("div",{key:s.id,class:"col-sm-4 col-md-3 q-ma-md"},[n(g,{to:{name:"home.showproduct",params:{slug:s.slug}},class:"products-link"},{default:v(()=>[u("div",pe,[n(M,{src:J(Z)+"/public/products/"+s.photos[0].photo,ratio:16/9,class:"products-image"},null,8,["src"])]),u("div",ve,T(s.name),1),u("div",ge,T(t(s.price)),1)]),_:2},1032,["to"])]))),128))])])]),_:1}))],64)}}};export{Fe as default};
