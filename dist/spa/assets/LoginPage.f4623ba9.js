import{Q as h}from"./QImg.602e0d0f.js";import{r as l,k as v,m as f,x as w,z as s,q as a,p as d,aQ as u,Q as y,t as p}from"./index.3411a222.js";import{Q as x}from"./QSpinnerGears.11fcd29c.js";import{Q as k}from"./QForm.f0266572.js";import{u as b}from"./use-quasar.a53b7e3f.js";import{u as Q}from"./auth-store.8e49de40.js";import"./axios.7b547941.js";const q={class:"row justify-center items-center self-center q-my-xl"},V={class:"col-md-6 text-center"},B={class:"col-md-5"},S=s("div",{class:"text-h5 q-mx-lg"},"Belanja kebutuhan utama, menjadi lebih mudah",-1),E={class:"row justify-center"},I={class:"q-my-sm"},P=s("label",{for:"email"},"Email",-1),j={class:"q-my-sm"},N=s("label",{for:"password"},"Password",-1),U={class:"q-mt-sm text-center",style:{"font-size":"12px"}},z={class:"text-bold cursor-pointer"},D={__name:"LoginPage",setup(A){const m=b(),r=l(""),i=l(""),c=l({email:[e=>!!e||"Email harus diisi",e=>/.+@.+/.test(e)||"Email tidak valid"],password:[e=>!!e||"Password harus diisi",e=>e.length>=8||"Password minimal 8 karakter"]}),o=l(!1),_=async()=>{o.value=!0;try{const e=await Q().login(r.value,i.value);localStorage.setItem("token",e.data.data.token),localStorage.setItem("role",e.data.data.user.role),m.notify({message:"Login Berhasil",icon:"check",color:"positive"}),window.location.reload()}catch(e){console.error("Error submitting form:",e),m.notify({message:e.response.data.message||"Format Email dan Password masih salah",icon:"warning",color:"negative"})}o.value=!1};return(e,t)=>{const g=v("router-link");return f(),w("div",q,[s("div",V,[a(h,{src:"/img/login-placeholder.png",alt:"",class:"q-mb-md",style:{width:"300px"}})]),s("div",B,[S,s("div",E,[a(k,{onSubmit:_,class:"col-9"},{default:d(()=>[s("div",I,[P,a(u,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=n=>r.value=n),type:"email",id:"email",rules:c.value.email,outlined:"",dense:""},null,8,["modelValue","rules"])]),s("div",j,[N,a(u,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=n=>i.value=n),type:"password",id:"password",rules:c.value.password,outlined:"",dense:""},null,8,["modelValue","rules"])]),a(y,{type:"submit",color:"primary",label:"Sign In to My Account",class:"full-width q-mt-sm",loading:o.value,disable:o.value,"no-caps":""},{loading:d(()=>[a(x)]),_:1},8,["loading","disable"]),s("div",U,[s("div",z,[p(" Belum mempunyai akun? "),a(g,{to:{name:"register"},class:"text-primary"},{default:d(()=>[p("Sign Up")]),_:1})])])]),_:1})])])])}}};export{D as default};
