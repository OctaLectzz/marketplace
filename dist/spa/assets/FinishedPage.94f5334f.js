import{Q as g}from"./QSkeleton.72d58935.js";import{aR as B,r as x,aS as Q,k as S,m as t,x as r,q as c,B as a,aE as y,aD as v,n as i,p as o,a_ as w,F,t as n,z as s,D as l,b0 as k,v as C,Q as I}from"./index.3411a222.js";import{Q as _}from"./QBadge.64db8ae1.js";import{Q as N}from"./QImg.602e0d0f.js";import{url as R}from"./axios.7b547941.js";import{u as z}from"./transaction-store.4971fc28.js";const E={key:0},P={key:1},T=s("span",null,"Pesanan",-1),V={class:"text-grey-5 transaction-subtitle q-mx-sm"},U={class:""},L={class:"float-right transaction-title"},j={class:"row"},A={class:"col-md-1 col-sm-2 col-xs-3 q-mx-xs"},G={class:"col-5 q-mx-xs"},H={class:"transaction-title",style:{"line-height":"1.2"}},J={class:"text-grey-10 transaction-title",style:{"line-height":"1.2"}},K={class:"text-grey-7 transaction-subtitle"},M=s("hr",null,null,-1),O={class:"large-screen transaction-title text-bold q-mb-sm float-right"},W={class:"text-primary",style:{"font-size":"18px"}},X={class:"small-screen transaction-title text-bold q-mb-sm"},Y={class:"text-primary",style:{"font-size":"18px"}},Z={key:0,class:"transaction-title"},$={key:2,class:"text-subtitle1 text-center text-grey-7 q-mt-md"},lt={__name:"FinishedPage",setup(tt){const b=B(),m=x(!0),p=x([]),q=async()=>{m.value=!0;try{const d=await z().getByUser();p.value=d.data.data.filter(f=>f.shipping_status===3)}catch(d){console.error("Error fetching data:",d)}m.value=!1};Q(()=>{b.name=="home.order.finished"&&q()});const h=d=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return(d,f)=>{const D=S("router-link");return t(),r(y,null,[m.value?(t(),r("div",E,[c(g,{height:"200px",class:"q-my-md"}),c(g,{height:"300px",class:"q-my-md"}),c(g,{height:"300px",class:"q-my-md"})])):a("",!0),!m.value&&p.value&&p.value.length>0?(t(),r("div",P,[(t(!0),r(y,null,v(p.value,e=>(t(),i(D,{key:e.id,to:{name:"home.transaction",params:{invoice:e.invoice}},class:"products-link text-dark"},{default:o(()=>[m.value?a("",!0):(t(),i(w,{key:0,class:"my-card q-my-md q-pb-lg"},{default:o(()=>[c(k,{class:"bg-grey-2 text-body1 text-bold text-primary"},{default:o(()=>[c(F,{name:"shopping_cart_checkout",size:"20px",class:"q-mx-sm"}),T,e.shipping_status==0?(t(),i(_,{key:0,color:"grey",class:"float-right"},{default:o(()=>[n("Belum Dibayar")]),_:1})):a("",!0),e.shipping_status==1?(t(),i(_,{key:1,color:"warning",class:"float-right"},{default:o(()=>[n("Sedang Dikemas")]),_:1})):a("",!0),e.shipping_status==2?(t(),i(_,{key:2,color:"success",class:"float-right"},{default:o(()=>[n("Sedang Dikirim")]),_:1})):a("",!0),e.shipping_status==3?(t(),i(_,{key:3,color:"blue",class:"float-right"},{default:o(()=>[n("Selesai")]),_:1})):a("",!0),e.shipping_status==4?(t(),i(_,{key:4,color:"red",class:"float-right"},{default:o(()=>[n("Dibatalkan")]),_:1})):a("",!0),s("div",V,l(e.invoice),1)]),_:2},1024),c(k,{class:"q-pa-lg"},{default:o(()=>[(t(!0),r(y,null,v(e.transaction_details,u=>(t(),r("div",{key:u.id,class:"text-subtitle2 q-my-md"},[s("div",U,[s("div",L,l(h(u.product.price)),1),s("div",j,[s("div",A,[c(N,{src:C(R)+"/public/products/"+u.product.photos[0].photo,ratio:1/1,class:"q-mx-sm transaction-image"},null,8,["src"])]),s("div",G,[s("div",H,l(u.product.name),1),s("div",J,"x "+l(u.quantity),1),s("div",K,l(u.product.category.name),1)])])])]))),128)),M,s("div",O,[n(" Total Pesanan : "),s("span",W,l(h(e.total_price)),1)]),s("div",X,[n(" Total Pesanan : "),s("span",Y,l(h(e.total_price)),1)]),e.resi?(t(),r("div",Z,"Resi : "+l(e.resi),1)):a("",!0),e.shipping_status==0?(t(),i(I,{key:1,to:{name:"home.transaction",params:{invoice:e.invoice}},color:"primary",label:"Bayar Sekarang",dense:"","no-caps":""},null,8,["to"])):a("",!0)]),_:2},1024)]),_:2},1024))]),_:2},1032,["to"]))),128))])):(t(),r("div",$,"Data tidak ditemukan."))],64)}}};export{lt as default};
